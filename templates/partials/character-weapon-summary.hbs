<section class="character-weapon-summary summary-table">
  <table>
    <thead>
      <tr>
        <th colspan="3">{{localize "mythic.characterWeaponSummary.title"}}</th>
        <th>
          <button class="initiative rollable" data-roll="{{data.data.initiative.formula}}" data-label="initiative">
            {{localize "mythic.characterWeaponSummary.initiative"}}: {{data.data.initiative.mods}}
          </button>
      </th>
      <th colspan="3">
        <button class="skill rollable" name="{{localize "mythic.skillNames.evasion"}} ({{data.data.skills.evasion.characteristic}})" value="{{data.data.skills.evasion.roll}}">
          {{localize "mythic.skillNames.evasion"}}: {{data.data.skills.evasion.roll}}
        </button>
      </th>
      <tr>
        <th>{{localize "mythic.characterWeaponSummary.name"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.fireMode"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.range"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.mag"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.one"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.half"}}</th>
        <th>{{localize "mythic.characterWeaponSummary.full"}}</th>
      </tr>
    </thead>
    <tbody>
      {{#each weapons as |weapon _|}}
        {{log weapon}}
        <tr>
          {{#unless weapon.data.nickname}}
            <td>{{weapon.name}}</td> {{else}} <td>{{weapon.data.nickname}}</td>
          {{/unless}}
          <td>
            <select class="item-edit-inline" data-field="attack.fireMode" data-item-id="{{weapon._id}}">
              {{#select weapon.data.attack.fireMode}}
                {{#each weapon.data.fireMode as |rate mode|}}
                  {{#if rate}}
                    <option value="{{mode}}-{{rate}}">{{localize (concat "mythic.weaponSheet.fireMode." mode)}} ({{rate}})</option>
                  {{/if}}
                {{/each}}
              {{/select}}
            </select>
          </td>
          <td>{{weapon.data.close}} - {{weapon.data.long}}</td>
          <td>
            <div class="magazine">
              <input class="item-edit-inline" data-field="magazine.current" data-item-id="{{weapon._id}}" type="number" data-dtype="Number" value="{{weapon.data.magazine.current}}"/>
              <p>/</p>
              <p>{{weapon.data.magazine.max}}</p>
            </div>
          </td>
          <td><button><b>1</b></button></td>
          <td><button><b>{{weapon.data.attack.half}}</b></button></td>
          <td><button><b>{{weapon.data.attack.full}}</b></button></td>
        </tr>
      {{/each}}
                      {{!-- [[ SEPARATION POINT ]] --}}
      <tr>
        <td>M392 Designated Marksman Rifle</td>
        <td>
          <select name="fire-mode">
            <option value="semi-3">Semi (3)</option>
            <option value="burst-2">Burst (2)</option>
          </select>
        </td>
        <td>30 - 1400</td>
        <td>
          <div class="magazine">
            <input name="" type="number" data-dtype="Number" value="1000"/>
            <p>/</p>
            <p>1000</p>
          </div>
        </td>
        <td><button>1</button></td>
        <td><button>3</button></td>
        <td><button>6</button></td>
      </tr>
      {{!-- <tr>
        <td>Confetti Maker</td>
        <td>
          <select name="fire-mode">
            <option value="auto-20">Auto (20)</option>
          </select>
        </td>
        <td>5 - 400</td>
        <td>
          <div class="magazine">
            <input name="" type="number" data-dtype="Number" value="120"/>
            <p>/</p>
            <p>120</p>
          </div>
        </td>
        <td><button>1</button></td>
        <td><button>10</button></td>
        <td><button>20</button></td>
      </tr>
      <tr>
        <td>Energy Sword</td>
        <td>Melee</td>
        <td>3</td>
        <td>--</td>
        <td><button>1</button></td>
        <td><button>4</button></td>
        <td><button>8</button></td>
      </tr>
      <tr>
        <td>Plasma Grenade</td>
        <td>Grenade</td>
        <td>6 / 1</td>
        <td>
          <div class="magazine">
            <input name="" type="number" data-dtype="Number" value="1"/>
            <p>/</p>
            <p>2</p>
          </div>
        </td>
        <td colspan="3"><button>1</button></td>
      </tr>
      <tr>
        <td>NA6 Defoliant Projector (V)</td>
        <td>
          <select name="fire-mode">
            <option value="sustained-6">Sustained (6)</option>
          </select>
        </td>
        <td>10 - 40</td>
        <td>
          <div class="magazine">
            <input name="" type="number" data-dtype="Number" value="54"/>
            <p>/</p>
            <p>60</p>
          </div>
        </td>
        <td><button>1</button></td>
        <td><button>3</button></td>
        <td><button>6</button></td>
      </tr> --}}
    </tbody>
  </table>
</section>